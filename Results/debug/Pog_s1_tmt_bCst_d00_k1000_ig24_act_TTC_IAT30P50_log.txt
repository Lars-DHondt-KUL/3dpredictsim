if system_dependent('IsDebugMode')==1, dbquit; end
Test_Lars
                 v_tgt: 1.2500
                     N: 50
              NThreads: 6
              max_iter: 10000
                   tmt: 1
            tmt_locked: 0
                  kTMT: 1000
                  dTMT: 0
            TMT_linear: 1
                 k1TMT: 800
                 k2TMT: 1
                 t1TMT: 0.5000
         MuscModelAsmp: 0
               ExoBool: 1
              ExoScale: 1
               DataSet: 'PoggenSee2020_AFO'
     ExoImplementation: 'TorqueTibiaCalcn'
       T_max_ankle_exo: 30
       P_max_ankle_exo: 50
         ResultsFolder: 'debug'
               subject: 's1_Poggensee'
                 IGsel: 2
              IGmodeID: 4
           savename_ig: 'NoExo'
         ExoController: 'Ideal Assistance'
            PolyFolder: 's1_Poggensee'
          ExternalFunc: 'SimExo_3D_Pog_s1_tmt_v5.dll'
         ExternalFunc2: 'SimExo_3D_Pog_s1_tmt_pp_v3.dll'
    CasadiFunc_Folders: 'casadi_s1Pog_tmt_MuscModel_bCst_d00_k1000'
              savename: 'Pog_s1_tmt_bCst_d00_k1000_ig24_act_TTC_IAT30P50'
         linear_solver: 'mumps'
             tol_ipopt: 4
           ResultsF_ig: []
          parallelMode: 'thread'
                  mass: 64
            IG_PelvisY: 0.8960
                     W: [1×1 struct]
                IGcase: 0
                h_weak: 0
                 Max_s: 0
               pf_weak: 0
                    mE: 0
                coCont: 0
                Constr: [1×1 struct]
                Bounds: [1×1 struct]
            PercStance: [1×1 struct]
             Symmetric: 1
              Periodic: 0
             ModelName: 'Gait92'
         IKfile_Bounds: 'OpenSimModel\IK_Bounds_Default_tmt.mat'
          IKfile_guess: 'OpenSimModel\IK_Guess_Default_tmt.mat'

{Undefined function or variable 'P_em_l'.

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('f_PredSim_Gait92_tmt_ia', 'D:\school\WTK\thesis\model\3dpredictsim\OCP\f_PredSim_Gait92_tmt_ia.m', 686)" style="font-weight:bold">f_PredSim_Gait92_tmt_ia</a> (<a href="matlab: opentoline('D:\school\WTK\thesis\model\3dpredictsim\OCP\f_PredSim_Gait92_tmt_ia.m',686,0)">line 686</a>)
    ineq_constr5,ineq_constr6,J,P_em_l,P_em_r});

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('Test_Lars', 'D:\school\WTK\thesis\model\3dpredictsim\RunSim\Test_Lars.m', 139)" style="font-weight:bold">Test_Lars</a> (<a href="matlab: opentoline('D:\school\WTK\thesis\model\3dpredictsim\RunSim\Test_Lars.m',139,0)">line 139</a>)
            f_PredSim_Gait92_tmt_ia(S);
} 
Test_Lars
                 v_tgt: 1.2500
                     N: 50
              NThreads: 6
              max_iter: 10000
                   tmt: 1
            tmt_locked: 0
                  kTMT: 1000
                  dTMT: 0
            TMT_linear: 1
                 k1TMT: 800
                 k2TMT: 1
                 t1TMT: 0.5000
         MuscModelAsmp: 0
               ExoBool: 1
              ExoScale: 1
               DataSet: 'PoggenSee2020_AFO'
     ExoImplementation: 'TorqueTibiaCalcn'
       T_max_ankle_exo: 30
       P_max_ankle_exo: 50
         ResultsFolder: 'debug'
               subject: 's1_Poggensee'
                 IGsel: 2
              IGmodeID: 4
           savename_ig: 'NoExo'
         ExoController: 'Ideal Assistance'
            PolyFolder: 's1_Poggensee'
          ExternalFunc: 'SimExo_3D_Pog_s1_tmt_v5.dll'
         ExternalFunc2: 'SimExo_3D_Pog_s1_tmt_pp_v3.dll'
    CasadiFunc_Folders: 'casadi_s1Pog_tmt_MuscModel_bCst_d00_k1000'
              savename: 'Pog_s1_tmt_bCst_d00_k1000_ig24_act_TTC_IAT30P50'
         linear_solver: 'mumps'
             tol_ipopt: 4
           ResultsF_ig: []
          parallelMode: 'thread'
                  mass: 64
            IG_PelvisY: 0.8960
                     W: [1×1 struct]
                IGcase: 0
                h_weak: 0
                 Max_s: 0
               pf_weak: 0
                    mE: 0
                coCont: 0
                Constr: [1×1 struct]
                Bounds: [1×1 struct]
            PercStance: [1×1 struct]
             Symmetric: 1
              Periodic: 0
             ModelName: 'Gait92'
         IKfile_Bounds: 'OpenSimModel\IK_Bounds_Default_tmt.mat'
          IKfile_guess: 'OpenSimModel\IK_Guess_Default_tmt.mat'

if system_dependent('IsDebugMode')==1, dbquit; end
Test_Lars
                 v_tgt: 1.2500
                     N: 50
              NThreads: 6
              max_iter: 10000
                   tmt: 1
            tmt_locked: 0
                  kTMT: 1000
                  dTMT: 0
            TMT_linear: 1
                 k1TMT: 800
                 k2TMT: 1
                 t1TMT: 0.5000
         MuscModelAsmp: 0
               ExoBool: 1
              ExoScale: 1
               DataSet: 'PoggenSee2020_AFO'
     ExoImplementation: 'TorqueTibiaCalcn'
       T_max_ankle_exo: 30
       P_max_ankle_exo: 50
         ResultsFolder: 'debug'
               subject: 's1_Poggensee'
                 IGsel: 2
              IGmodeID: 4
           savename_ig: 'NoExo'
         ExoController: 'Ideal Assistance'
            PolyFolder: 's1_Poggensee'
          ExternalFunc: 'SimExo_3D_Pog_s1_tmt_v5.dll'
         ExternalFunc2: 'SimExo_3D_Pog_s1_tmt_pp_v3.dll'
    CasadiFunc_Folders: 'casadi_s1Pog_tmt_MuscModel_bCst_d00_k1000'
              savename: 'Pog_s1_tmt_bCst_d00_k1000_ig24_act_TTC_IAT30P50'
         linear_solver: 'mumps'
             tol_ipopt: 4
           ResultsF_ig: []
          parallelMode: 'thread'
                  mass: 64
            IG_PelvisY: 0.8960
                     W: [1×1 struct]
                IGcase: 0
                h_weak: 0
                 Max_s: 0
               pf_weak: 0
                    mE: 0
                coCont: 0
                Constr: [1×1 struct]
                Bounds: [1×1 struct]
            PercStance: [1×1 struct]
             Symmetric: 1
              Periodic: 0
             ModelName: 'Gait92'
         IKfile_Bounds: 'OpenSimModel\IK_Bounds_Default_tmt.mat'
          IKfile_guess: 'OpenSimModel\IK_Guess_Default_tmt.mat'

if system_dependent('IsDebugMode')==1, dbquit; end

******************************************************************************
This program contains Ipopt, a library for large-scale nonlinear optimization.
 Ipopt is released as open source code under the Eclipse Public License (EPL).
         For more information visit http://projects.coin-or.org/Ipopt
******************************************************************************

This is Ipopt version 3.12.3, running with linear solver mumps.
NOTE: Other linear solvers might be more efficient (see Ipopt documentation).

Number of nonzeros in equality constraint Jacobian...:   703466
Number of nonzeros in inequality constraint Jacobian.:    65650
Number of nonzeros in Lagrangian Hessian.............:        0

Total number of variables............................:    76210
                     variables with only lower bounds:        0
                variables with lower and upper bounds:    76210
                     variables with only upper bounds:        0
Total number of equality constraints.................:    71010
Total number of inequality constraints...............:    28400
        inequality constraints with only lower bounds:    13800
   inequality constraints with lower and upper bounds:      800
        inequality constraints with only upper bounds:    13800

iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
   0 1.7424270e+004 5.07e+002 8.00e-001   0.0 0.00e+000    -  0.00e+000 0.00e+000   0
   1 7.1570051e+003 4.57e+002 2.60e+003  -0.5 1.44e+001    -  3.03e-001 3.87e-001f  1
   2 6.7096742e+003 4.39e+002 2.37e+003  -0.9 1.17e+001    -  3.03e-001 4.09e-002f  1
   3 6.1669321e+003 3.72e+002 2.17e+003  -0.1 2.50e+001    -  3.92e-001 1.32e-001f  1
   4 4.5571927e+003 2.30e+002 3.39e+003  -1.1 1.45e+001    -  4.04e-001 3.79e-001f  1
   5 4.2493506e+003 1.95e+002 3.85e+003  -0.6 1.71e+001    -  3.73e-001 3.74e-001f  1
   6 3.6519601e+003 1.20e+002 1.49e+003  -6.1 9.76e+000    -  1.26e-001 4.94e-001h  1
   7 3.6307303e+003 9.70e+001 1.21e+003  -6.1 5.91e+000    -  1.41e-001 2.07e-001h  1
   8 3.6472809e+003 4.27e+001 6.09e+002  -1.3 7.23e+000    -  4.33e-001 6.23e-001f  1
   9 3.9058779e+003 1.80e+001 2.22e+002  -1.5 4.83e+000    -  4.38e-001 1.00e+000f  1
iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
  10 3.4840129e+003 3.95e+000 1.06e+002  -1.9 2.87e+000    -  6.47e-001 1.00e+000f  1

Number of Iterations....: 10

                                   (scaled)                 (unscaled)
Objective...............:  6.9050723799347837e+000   3.4840128653075758e+003
Dual infeasibility......:  1.0597703972892582e+002   5.3471614709747162e+004
Constraint violation....:  1.9963424884103684e-001   3.9511386462532698e+000
Complementarity.........:  8.3606086768311105e-001   4.2184160554964154e+002
Overall NLP error.......:  1.0597703972892582e+002   5.3471614709747162e+004


Number of objective function evaluations             = 11
Number of objective gradient evaluations             = 11
Number of equality constraint evaluations            = 11
Number of inequality constraint evaluations          = 11
Number of equality constraint Jacobian evaluations   = 11
Number of inequality constraint Jacobian evaluations = 11
Number of Lagrangian Hessian evaluations             = 0
Total CPU secs in IPOPT (w/o function evaluations)   =     27.460
Total CPU secs in NLP function evaluations           =      5.727

EXIT: Maximum Number of Iterations Exceeded.
      solver  :   t_proc      (avg)   t_wall      (avg)    n_eval
       nlp_f  | 117.00ms ( 10.64ms) 118.87ms ( 10.81ms)        11
       nlp_g  | 126.00ms ( 11.45ms) 125.54ms ( 11.41ms)        11
  nlp_grad_f  | 467.00ms ( 38.92ms) 467.90ms ( 38.99ms)        12
   nlp_jac_g  |   5.52 s (459.75ms)   5.51 s (459.47ms)        12
       total  |  33.21 s ( 33.21 s)  33.21 s ( 33.21 s)         1
This is Ipopt version 3.12.3, running with linear solver mumps.
NOTE: Other linear solvers might be more efficient (see Ipopt documentation).

Number of nonzeros in equality constraint Jacobian...:   703466
Number of nonzeros in inequality constraint Jacobian.:    65650
Number of nonzeros in Lagrangian Hessian.............:        0

Total number of variables............................:    76210
                     variables with only lower bounds:        0
                variables with lower and upper bounds:    76210
                     variables with only upper bounds:        0
Total number of equality constraints.................:    71010
Total number of inequality constraints...............:    28400
        inequality constraints with only lower bounds:    13800
   inequality constraints with lower and upper bounds:      800
        inequality constraints with only upper bounds:    13800

iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
   0 1.7424270e+004 5.07e+002 8.00e-001   0.0 0.00e+000    -  0.00e+000 0.00e+000   0
   1 7.1570051e+003 4.57e+002 2.60e+003  -0.5 1.44e+001    -  3.03e-001 3.87e-001f  1
   2 6.7096742e+003 4.39e+002 2.37e+003  -0.9 1.17e+001    -  3.03e-001 4.09e-002f  1
   3 6.1669321e+003 3.72e+002 2.17e+003  -0.1 2.50e+001    -  3.92e-001 1.32e-001f  1
   4 4.5571927e+003 2.30e+002 3.39e+003  -1.1 1.45e+001    -  4.04e-001 3.79e-001f  1
   5 4.2493506e+003 1.95e+002 3.85e+003  -0.6 1.71e+001    -  3.73e-001 3.74e-001f  1
   6 3.6519601e+003 1.20e+002 1.49e+003  -6.1 9.76e+000    -  1.26e-001 4.94e-001h  1
   7 3.6307303e+003 9.70e+001 1.21e+003  -6.1 5.91e+000    -  1.41e-001 2.07e-001h  1
   8 3.6472809e+003 4.27e+001 6.09e+002  -1.3 7.23e+000    -  4.33e-001 6.23e-001f  1
   9 3.9058779e+003 1.80e+001 2.22e+002  -1.5 4.83e+000    -  4.38e-001 1.00e+000f  1
iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
  10 3.4840129e+003 3.95e+000 1.06e+002  -1.9 2.87e+000    -  6.47e-001 1.00e+000f  1

Number of Iterations....: 10

                                   (scaled)                 (unscaled)
Objective...............:  6.9050723799347837e+000   3.4840128653075758e+003
Dual infeasibility......:  1.0597703972892582e+002   5.3471614709747162e+004
Constraint violation....:  1.9963424884103684e-001   3.9511386462532698e+000
Complementarity.........:  8.3606086768311105e-001   4.2184160554964154e+002
Overall NLP error.......:  1.0597703972892582e+002   5.3471614709747162e+004


Number of objective function evaluations             = 11
Number of objective gradient evaluations             = 11
Number of equality constraint evaluations            = 11
Number of inequality constraint evaluations          = 11
Number of equality constraint Jacobian evaluations   = 11
Number of inequality constraint Jacobian evaluations = 11
Number of Lagrangian Hessian evaluations             = 0
Total CPU secs in IPOPT (w/o function evaluations)   =     27.380
Total CPU secs in NLP function evaluations           =      5.693

EXIT: Maximum Number of Iterations Exceeded.
      solver  :   t_proc      (avg)   t_wall      (avg)    n_eval
       nlp_f  | 113.00ms ( 10.27ms) 112.28ms ( 10.21ms)        11
       nlp_g  | 129.00ms ( 11.73ms) 128.55ms ( 11.69ms)        11
  nlp_grad_f  | 510.00ms ( 42.50ms) 509.10ms ( 42.43ms)        12
   nlp_jac_g  |   5.44 s (453.75ms)   5.45 s (453.88ms)        12
       total  |  33.08 s ( 33.08 s)  33.08 s ( 33.08 s)         1
